<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--bootstrap css-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/genSchedule.css">
    <link rel="stylesheet" href="../static/css/index.css">
    <title>Asset Schedule</title>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th, td {
        border: 1px solid black;
        padding: 8px;
      }
      .highlight {
  background-color: rgba(255, 255, 255, 0.3);
}
    </style>
    
    
  
</head>
<body>
  {% include 'header.html' %}
    <div class="right">
      <h1 style="text-align: center;margin-bottom: 15px;margin-top: 5px;">Asset Schedule</h1>
      <nav aria-label="Page navigation example">
        <div class="pageNav_searchbar">
      </div>
      </nav>
      <table>
        <thead>
          <tr>
            {% for cell in page_header %}
              <th>{{ cell }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in rows %}
            <tr>
              {% for cell in row %}
                <td>{{ cell }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
      
    </div>
    <form method="post" action="" id="download_csv_schedule">
      {% csrf_token %}
      <button type="button"  onclick="download_csv_schedule()" class="btn btn-primary ml-2">Download CSV</button>
    </form>
  </div>
</div> 


      <!--custom js-->
      <script src="../static/js/script.js"></script>
      <!--Bootstrap-->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
      <script>
        function download_csv_schedule() {
            document.getElementById("download_csv_schedule").action = "{% url 'download_csv_schedule' %}";
            document.getElementById("download_csv_schedule").submit();
        }
      </script>
          <script src="https://code.jquery.com/jquery-3.3.1.js"
          integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
      <script>
          $(document).ready(function () {
              // Add click event listener to each table row
              $("table tbody tr").click(function () {
                  // Remove any previously highlighted rows
                  console.log("clicked")
                  $("table tbody tr").removeClass("highlight");
  
                  // Add highlight class to the clicked row
                  $(this).addClass("highlight");
              });
          });
      </script>
</body>
</html>